@model ShopDGHouse.Models.User
@{
    ViewBag.Title = "ChangePass";
    Layout = "~/Views/Shared/_Layout.cshtml";

}
<div class="breadcrumb-option">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="breadcrumb__links">
                    <a href="/home"><i class="fa fa-home"></i> Home</a>
                    <span>ChangePass</span>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="col-lg-12 text-center">
            <h3>ChangePass</h3>
            <p>Account of your</p>
        </div>
    </div>
    <hr />
    <div class="row">
        <div class="col-md-12">
            <hr />
            <h5 style="font-weight:bold">Họ tên: @Model.Fullname</h5>
            <h5 style="font-weight:bold">Email: @Model.Email</h5>
            <h5 style="font-weight:bold">Tài khoản đăng nhập: @Model.Username</h5>
            @using (Html.BeginForm("ChangePass", "Account", FormMethod.Post))
            {
                @Html.AntiForgeryToken()
                <div class="form-group">
                    <label>Mật khẩu cũ</label>
                    <input type="password" name="password" required class="form-control" autocomplete="off" />
                    <span class="field-validation-valid text-danger" data-valmsg-for="password" data-valmsg-replace="true"></span>
                </div>
                <div class="form-group">
                    <label>Mật khẩu mới</label>
                    <input type="password" data-val-length="Tối thiểu 3 kí tự,Tối đa 20 kí tự" data-val-length-max="20" data-val-length-min="3" data-val-required="Mật khẩu mới không được để trống" id="passwordnew" name="passwordnew" required class="form-control" autocomplete="off" />
                    <span class="field-validation-valid text-danger" data-valmsg-for="passwordnew" data-valmsg-replace="true"></span>
                </div>
                <div class="form-group">
                    <label>Xác nhận mật khẩu</label>
                    <input type="password" data-val-required="xác nhận không được để trống" id="comfirmpass" name="comfirmpass" required class="form-control" autocomplete="off" />
                    <span class="field-validation-valid text-danger" data-valmsg-for="comfirmpass" data-valmsg-replace="true"></span>
                    <span class="text-danger"><span id="confirmerror"></span></span>
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-block btn-success">ChangePass</button>
                </div>
            }
        </div>
        @if (ViewBag.error != null)
        {
            <br />
            <div class="alert alert-danger" role="alert" style="color:red">@ViewBag.error</div>
        }
    </div>
</div>

<script>
    confirmpassword = function () {
        var pass = document.getElementById('passwordnew').value;
        var copass = document.getElementById('comfirmpass').value;
        if (copass != pass) {
            document.getElementById('confirmerror').innerHTML = "Mật khẩu không trùng khớp";
        }
        else {
            document.getElementById('confirmerror').innerHTML = "";
        }
    };
</script>